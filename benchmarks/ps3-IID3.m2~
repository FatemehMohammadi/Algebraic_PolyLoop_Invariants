restart
t1 = cpuTime()
K = QQ
R= K[ x_1 .. x_12]
f1= x_1+x_2^2
f2 = x_2+1
f7 = x_3+x_4*x_1+x_5*x_2+x_6*x_1*x_2+x_7*x_1^2+x_8*x_2^2+x_9*x_1^2*x_2+x_10*x_2^2*x_1+x_11*x_1^3+x_12*x_2^3
a_1 = 0
a_2 =0
g = sub(f7, {x_1=>a_1, x_2=>a_2})
T = ideal(g)
i=0;
while i< 9 do (
    print i;
    y_1 = sub(f1,{x_1=>a_1, x_2=>a_2});
    y_2 = sub(f2,{x_1=>a_1, x_2=>a_2});
    a_1 = y_1;
    a_2 = y_2;
    a_3 = y_3;
    g = sub(f7, {x_1=>a_1, x_2=>a_2});
    T = T +ideal(g);
    i=i+1;
    )
T = trim T
S={}
n = numgens T
m = 10
i =0
while i< n do(
    U_i =S;
    j =1;
    k = 2;
    a_1 =1;
    while k<m+2 do (
	a_k =0;
	k=k+1;
	);
    while j <  m+1 do(
	b=sub(T_i,{x_3=>a_1, x_4=>a_2, x_5=>a_3,x_6=>a_4,x_7=>a_5,x_8=>a_6,x_9=>a_7, x_10=>a_8, x_11=>a_9, x_12=>a_10});       
	U_i = join(U_i, {b});   
	a_j = a_(j+1);
    	a_(j+1)= a_(j+1)+1;
	j = j+1;
	);
    i = i+1;
    )  
M = matrix{U_0, U_1}
i=0;
while i< n-2 do(
    M = M||matrix{ U_(i+2)};
    i = i+1;
    )
t2= cpuTime()
A=ker M
A = generators A
a = matrix{{1},{x_1},{x_2},{x_1*x_2},{x_1^2},{x_2^2},{x_1^2*x_2},{x_2^2*x_1},{x_1^3},{x_2^3}}
P = transpose(a)*A
t3 = cpuTime()
n = numgens source P
X_0 = ideal(0)
j =0;
while j< n do(
    X_0 = ideal(P_(0,j));
    j=j+1;
    X_1=sub(X_0, {x_1 =>f1,x_2 =>f2})+X_0;
    X_1= radical X_1;
    i = 0;
    while  X_i != X_(i+1)  do (
    	i = i+1;
    	print i;
    	X_(i+1) = sub(X_i, {x_1 =>f1,x_2 =>f2}) + X_0 ;
    	print 100;
	);
    S=  sub(X_i,{x_1=>0, x_2=>0});
    S= trim S;
    print S;
)
t4= cpuTime();
t2-t1
t3-t2
t4-t3
t4-t1
